
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>1.2.4. Defining functions &#8212; Scipy lecture notes</title>
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1.2.5. Reusing code: scripts and modules" href="reusing_code.html" />
    <link rel="prev" title="1.2.3. Control Flow" href="control_flow.html" />
   
    <link rel="stylesheet"
	  href="https://unpkg.com/purecss@1.0.0/build/base-min.css">

<script type="text/javascript">
$(function () {
    // Highlight the table of content as we scroll
    sections = {},
    i        = 0,
    url	 = document.URL.replace(/#.*$/, ""),
    current_section = 0;

    // Grab positions of our sections
    $('.headerlink').each(function(){
        sections[this.href.replace(url, '')] = $(this).offset().top - 50;
    });

    $(window).scroll(function(event) {
	var pos   = $(window).scrollTop();

	// Highlight the current section
	$('a.internal').parent().removeClass('active');
        for(i in sections){
            if(sections[i] > pos){
		break;
            };
	    if($('a.internal[href$="' + i + '"]').is(':visible')){
		current_section = i;
	    };
        }
	$('a.internal[href$="' + current_section + '"]').parent().addClass('active');
	$('a.internal[href$="' + current_section + '"]').parent().parent().parent().addClass('active');
	$('a.internal[href$="' + current_section + '"]').parent().parent().parent().parent().parent().addClass('active');
    });

});
</script>


  </head><body>
   <!-- Use the header to add javascript -->
    

    <script type="text/javascript">
    // Function to collapse the tip divs
    function collapse_tip_div(obj){
	// Update the representation on the tip div based on whether it
	// has the 'collapsed' css class or not: we only want to
	// collapse divs that are not already collapsed
	if($(obj).hasClass("collapsed")) {
	} else {
	    $(obj).find("p.summary").remove();
	    var content = $(obj).text();
	    var html = $(obj).html();

	    if(content.length > 40) {
		if ($.browser.msie) {
		    // We start at '3' to avoid 'tip', as IE
		    // does not count whitespace
		    var content = content.substr(3, 50);
		} else {
		    // We start at '5' to avoid 'tip '
		    var content = content.substr(5, 50);
		}
	    }
	    $(obj).html('<p class="summary"><img src="../../_static/plus.png">' + content + '...</p>' + html);
	}
    }
    </script>

    <script type="text/javascript">
    $(function () {
	$(".tip")
	    .click(function(event){
		$(this).toggleClass("collapsed");
		// Change state of the global button
		$('div.related li.transparent').removeClass('transparent')
		$(this).find("p.summary").remove();
		if($(this).hasClass("collapsed")) {
		    var content = $(this).text();
		    var html = $(this).html();

		    if(content.length > 40) {
			if ($.browser.msie) {
			    // We start at '3' to avoid 'tip', as IE
			    // does not count whitespace
			    var content = content.substr(3, 50);
			} else {
			    // We start at '5' to avoid 'tip '
			    var content = content.substr(5, 50);
			}
		    }
		    $(this).html('<p class="summary"><img src="../../_static/plus.png">' + content + '...</p>' + html);
		}
		if (event.target.tagName.toLowerCase() != "a") {
                   return true; //Makes links clickable
		}
	});
    });
    </script>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="reusing_code.html" title="1.2.5. Reusing code: scripts and modules"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="control_flow.html" title="1.2.3. Control Flow"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Scipy lecture notes</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >1. Getting started with Python for science</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="python_language.html" accesskey="U">1.2. The Python language</a> &#187;</li>
     
    <!-- Insert a menu in the navigation bar -->
    <li class="left">
	<!-- On click toggle the 'tip' on or off-->
	<a onclick="$('.tip').each(function (index, obj) {
			    collapse_tip_div(obj);
		    });
		    $('.tip').addClass('collapsed');
		    $('.left').addClass('transparent');">
	<img src="../../_static/minus.png"
         alt="Collapse to compact view" style="padding: 1ex;"/>
	<span class="hiddenlink">Collapse document to compact view</span>
    </a></li>
    <li class="right edit_on_github"><a href="https://github.com/scipy-lectures/scipy-lecture-notes/edit/master/intro/language/functions.rst">Edit
    <span class="tooltip">
	Improve this page:<br/>Edit it on Github.
    </span>
    </a>
    </li>

      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="defining-functions">
<h1>1.2.4. Defining functions<a class="headerlink" href="#defining-functions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="function-definition">
<h2>1.2.4.1. Function definition<a class="headerlink" href="#function-definition" title="Permalink to this headline">¶</a></h2>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [56]: </span><span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
<div class="newline"></div><span class="gp">   ....:</span>     <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;in test function&#39;</span><span class="p">)</span>
<div class="newline"></div><span class="gp">   ....:</span>
<div class="newline"></div><span class="gp">   ....:</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [57]: </span><span class="n">test</span><span class="p">()</span>
<div class="newline"></div><span class="go">in test function</span>
<div class="newline"></div></pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Function blocks must be indented as other control-flow blocks.</p>
</div>
</div>
<div class="section" id="return-statement">
<h2>1.2.4.2. Return statement<a class="headerlink" href="#return-statement" title="Permalink to this headline">¶</a></h2>
<p>Functions can <em>optionally</em> return values.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="k">def</span> <span class="nf">disk_area</span><span class="p">(</span><span class="n">radius</span><span class="p">):</span>
<div class="newline"></div><span class="gp">   ...:</span>     <span class="k">return</span> <span class="mf">3.14</span> <span class="o">*</span> <span class="n">radius</span> <span class="o">*</span> <span class="n">radius</span>
<div class="newline"></div><span class="gp">   ...:</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [8]: </span><span class="n">disk_area</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
<div class="newline"></div><span class="gr">Out[8]: </span><span class="mf">7.0649999999999995</span>
<div class="newline"></div></pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By default, functions return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Note the syntax to define a function:</p>
<ul class="last simple">
<li>the <code class="docutils literal notranslate"><span class="pre">def</span></code> keyword;</li>
<li>is followed by the function’s <strong>name</strong>, then</li>
<li>the arguments of the function are given between parentheses followed
by a colon.</li>
<li>the function body;</li>
<li>and <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">object</span></code> for optionally returning values.</li>
</ul>
</div>
</div>
<div class="section" id="parameters">
<h2>1.2.4.3. Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<p>Mandatory parameters (positional arguments)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [81]: </span><span class="k">def</span> <span class="nf">double_it</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<div class="newline"></div><span class="gp">   ....:</span>     <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span>
<div class="newline"></div><span class="gp">   ....:</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [82]: </span><span class="n">double_it</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<div class="newline"></div><span class="gr">Out[82]: </span><span class="mi">6</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [83]: </span><span class="n">double_it</span><span class="p">()</span>
<div class="newline"></div><span class="go">---------------------------------------------------------------------------</span>
<div class="newline"></div><span class="go">Traceback (most recent call last):</span>
<div class="newline"></div><span class="go">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span>
<div class="newline"></div><span class="go">TypeError: double_it() takes exactly 1 argument (0 given)</span>
<div class="newline"></div></pre></div>
</div>
<p>Optional parameters (keyword or named arguments)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [84]: </span><span class="k">def</span> <span class="nf">double_it</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<div class="newline"></div><span class="gp">   ....:</span>     <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span>
<div class="newline"></div><span class="gp">   ....:</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [85]: </span><span class="n">double_it</span><span class="p">()</span>
<div class="newline"></div><span class="gr">Out[85]: </span><span class="mi">4</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [86]: </span><span class="n">double_it</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<div class="newline"></div><span class="gr">Out[86]: </span><span class="mi">6</span>
<div class="newline"></div></pre></div>
</div>
<p>Keyword arguments allow you to specify <em>default values</em>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Default values are evaluated when the function is defined, not when
it is called. This can be problematic when using mutable types (e.g.
dictionary or list) and modifying them in the function body, since the
modifications will be persistent across invocations of the function.</p>
<p>Using an immutable type in a keyword argument:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [124]: </span><span class="n">bigx</span> <span class="o">=</span> <span class="mi">10</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [125]: </span><span class="k">def</span> <span class="nf">double_it</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">bigx</span><span class="p">):</span>
<div class="newline"></div><span class="gp">   .....:</span>     <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span>
<div class="newline"></div><span class="gp">   .....:</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [126]: </span><span class="n">bigx</span> <span class="o">=</span> <span class="mf">1e9</span>  <span class="c1"># Now really big</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [128]: </span><span class="n">double_it</span><span class="p">()</span>
<div class="newline"></div><span class="gr">Out[128]: </span><span class="mi">20</span>
<div class="newline"></div></pre></div>
</div>
<p>Using an mutable type in a keyword argument (and modifying it inside the
function body):</p>
<div class="last highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="k">def</span> <span class="nf">add_to_dict</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}):</span>
<div class="newline"></div><span class="gp">   ...:</span>     <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
<div class="newline"></div><span class="gp">   ...:</span>         <span class="n">args</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<div class="newline"></div><span class="gp">   ...:</span>     <span class="nb">print</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<div class="newline"></div><span class="gp">   ...:</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [3]: </span><span class="n">add_to_dict</span>
<div class="newline"></div><span class="gr">Out[3]: </span><span class="o">&lt;</span><span class="n">function</span> <span class="n">__main__</span><span class="o">.</span><span class="n">add_to_dict</span><span class="o">&gt;</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [4]: </span><span class="n">add_to_dict</span><span class="p">()</span>
<div class="newline"></div><span class="go">{&#39;a&#39;: 2, &#39;b&#39;: 3}</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [5]: </span><span class="n">add_to_dict</span><span class="p">()</span>
<div class="newline"></div><span class="go">{&#39;a&#39;: 3, &#39;b&#39;: 4}</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [6]: </span><span class="n">add_to_dict</span><span class="p">()</span>
<div class="newline"></div><span class="go">{&#39;a&#39;: 4, &#39;b&#39;: 5}</span>
<div class="newline"></div></pre></div>
</div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>More involved example implementing python’s slicing:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [98]: </span><span class="k">def</span> <span class="nf">slicer</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<div class="newline"></div><span class="gp">   ....:</span>     <span class="sd">&quot;&quot;&quot;Implement basic python slicing.&quot;&quot;&quot;</span>
<div class="newline"></div><span class="gp">   ....:</span>     <span class="k">return</span> <span class="n">seq</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">stop</span><span class="p">:</span><span class="n">step</span><span class="p">]</span>
<div class="newline"></div><span class="gp">   ....:</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [101]: </span><span class="n">rhyme</span> <span class="o">=</span> <span class="s1">&#39;one fish, two fish, red fish, blue fish&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [102]: </span><span class="n">rhyme</span>
<div class="newline"></div><span class="gr">Out[102]: </span><span class="p">[</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;fish,&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;fish,&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;fish,&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;fish&#39;</span><span class="p">]</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [103]: </span><span class="n">slicer</span><span class="p">(</span><span class="n">rhyme</span><span class="p">)</span>
<div class="newline"></div><span class="gr">Out[103]: </span><span class="p">[</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;fish,&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;fish,&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;fish,&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;fish&#39;</span><span class="p">]</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [104]: </span><span class="n">slicer</span><span class="p">(</span><span class="n">rhyme</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<div class="newline"></div><span class="gr">Out[104]: </span><span class="p">[</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">]</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [105]: </span><span class="n">slicer</span><span class="p">(</span><span class="n">rhyme</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<div class="newline"></div><span class="gr">Out[105]: </span><span class="p">[</span><span class="s1">&#39;fish,&#39;</span><span class="p">,</span> <span class="s1">&#39;fish,&#39;</span><span class="p">,</span> <span class="s1">&#39;fish,&#39;</span><span class="p">,</span> <span class="s1">&#39;fish&#39;</span><span class="p">]</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [106]: </span><span class="n">slicer</span><span class="p">(</span><span class="n">rhyme</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<div class="newline"></div><span class="gr">Out[106]: </span><span class="p">[</span><span class="s1">&#39;fish,&#39;</span><span class="p">,</span> <span class="s1">&#39;fish,&#39;</span><span class="p">]</span>
<div class="newline"></div></pre></div>
</div>
<p>The order of the keyword arguments does not matter:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [107]: </span><span class="n">slicer</span><span class="p">(</span><span class="n">rhyme</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<div class="newline"></div><span class="gr">Out[107]: </span><span class="p">[</span><span class="s1">&#39;fish,&#39;</span><span class="p">,</span> <span class="s1">&#39;fish,&#39;</span><span class="p">]</span>
<div class="newline"></div></pre></div>
</div>
<p class="last">but it is good practice to use the same ordering as the function’s
definition.</p>
</div>
<p><em>Keyword arguments</em> are a very convenient feature for defining functions
with a variable number of arguments, especially when default values are
to be used in most calls to the function.</p>
</div>
<div class="section" id="passing-by-value">
<h2>1.2.4.4. Passing by value<a class="headerlink" href="#passing-by-value" title="Permalink to this headline">¶</a></h2>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>Can you modify the value of a variable inside a function? Most languages
(C, Java, …) distinguish “passing by value” and “passing by reference”.
In Python, such a distinction is somewhat artificial, and it is a bit
subtle whether your variables are going to be modified or not.
Fortunately, there exist clear rules.</p>
<p class="last">Parameters to functions are references to objects, which are passed by
value. When you pass a variable to a function, python passes the
reference to the object to which the variable refers (the <strong>value</strong>).
Not the variable itself.</p>
</div>
<p>If the <strong>value</strong> passed in a function is immutable, the function does not
modify the caller’s variable.  If the <strong>value</strong> is mutable, the function
may modify the caller’s variable in-place:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">try_to_modify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
<div class="newline"></div><span class="gp">... </span>    <span class="n">x</span> <span class="o">=</span> <span class="mi">23</span>
<div class="newline"></div><span class="gp">... </span>    <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<div class="newline"></div><span class="gp">... </span>    <span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mi">99</span><span class="p">]</span> <span class="c1"># new reference</span>
<div class="newline"></div><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<div class="newline"></div><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<div class="newline"></div><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<div class="newline"></div><span class="gp">...</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">77</span>    <span class="c1"># immutable variable</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">99</span><span class="p">]</span>  <span class="c1"># mutable variable</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">28</span><span class="p">]</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">try_to_modify</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<div class="newline"></div><span class="go">23</span>
<div class="newline"></div><span class="go">[99, 42]</span>
<div class="newline"></div><span class="go">[99]</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<div class="newline"></div><span class="go">77</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<div class="newline"></div><span class="go">[99, 42]</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<div class="newline"></div><span class="go">[28]</span>
<div class="newline"></div></pre></div>
</div>
<p>Functions have a local variable table called a <em>local namespace</em>.</p>
<p>The variable <code class="docutils literal notranslate"><span class="pre">x</span></code> only exists within the function <code class="docutils literal notranslate"><span class="pre">try_to_modify</span></code>.</p>
</div>
<div class="section" id="global-variables">
<h2>1.2.4.5. Global variables<a class="headerlink" href="#global-variables" title="Permalink to this headline">¶</a></h2>
<p>Variables declared outside the function can be referenced within the
function:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [114]: </span><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [115]: </span><span class="k">def</span> <span class="nf">addx</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
<div class="newline"></div><span class="gp">   .....:</span>     <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<div class="newline"></div><span class="gp">   .....:</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [116]: </span><span class="n">addx</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<div class="newline"></div><span class="gr">Out[116]: </span><span class="mi">15</span>
<div class="newline"></div></pre></div>
</div>
<p>But these “global” variables cannot be modified within the function,
unless declared <strong>global</strong> in the function.</p>
<p>This doesn’t work:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [117]: </span><span class="k">def</span> <span class="nf">setx</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
<div class="newline"></div><span class="gp">   .....:</span>     <span class="n">x</span> <span class="o">=</span> <span class="n">y</span>
<div class="newline"></div><span class="gp">   .....:</span>     <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x is </span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">x</span><span class="p">)</span>
<div class="newline"></div><span class="gp">   .....:</span>
<div class="newline"></div><span class="gp">   .....:</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [118]: </span><span class="n">setx</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<div class="newline"></div><span class="go">x is 10</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [120]: </span><span class="n">x</span>
<div class="newline"></div><span class="gr">Out[120]: </span><span class="mi">5</span>
<div class="newline"></div></pre></div>
</div>
<p>This works:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [121]: </span><span class="k">def</span> <span class="nf">setx</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
<div class="newline"></div><span class="gp">   .....:</span>     <span class="k">global</span> <span class="n">x</span>
<div class="newline"></div><span class="gp">   .....:</span>     <span class="n">x</span> <span class="o">=</span> <span class="n">y</span>
<div class="newline"></div><span class="gp">   .....:</span>     <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;x is </span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">x</span><span class="p">)</span>
<div class="newline"></div><span class="gp">   .....:</span>
<div class="newline"></div><span class="gp">   .....:</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [122]: </span><span class="n">setx</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<div class="newline"></div><span class="go">x is 10</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [123]: </span><span class="n">x</span>
<div class="newline"></div><span class="gr">Out[123]: </span><span class="mi">10</span>
<div class="newline"></div></pre></div>
</div>
</div>
<div class="section" id="variable-number-of-parameters">
<h2>1.2.4.6. Variable number of parameters<a class="headerlink" href="#variable-number-of-parameters" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Special forms of parameters:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">*args</span></code>: any number of positional arguments packed into a tuple</li>
<li><code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>: any number of keyword arguments packed into a dictionary</li>
</ul>
</dd>
</dl>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [35]: </span><span class="k">def</span> <span class="nf">variable_args</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<div class="newline"></div><span class="gp">   ....:</span>     <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;args is&#39;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
<div class="newline"></div><span class="gp">   ....:</span>     <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;kwargs is&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
<div class="newline"></div><span class="gp">   ....:</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [36]: </span><span class="n">variable_args</span><span class="p">(</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<div class="newline"></div><span class="go">args is (&#39;one&#39;, &#39;two&#39;)</span>
<div class="newline"></div><span class="go">kwargs is {&#39;x&#39;: 1, &#39;y&#39;: 2, &#39;z&#39;: 3}</span>
<div class="newline"></div></pre></div>
</div>
</div>
<div class="section" id="docstrings">
<h2>1.2.4.7. Docstrings<a class="headerlink" href="#docstrings" title="Permalink to this headline">¶</a></h2>
<p>Documentation about what the function does and its parameters.  General
convention:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [67]: </span><span class="k">def</span> <span class="nf">funcname</span><span class="p">(</span><span class="n">params</span><span class="p">):</span>
<div class="newline"></div><span class="gp">   ....:</span>     <span class="sd">&quot;&quot;&quot;Concise one-line sentence describing the function.</span>
<div class="newline"></div><span class="gp">   ....:</span><span class="sd"></span>
<div class="newline"></div><span class="gp">   ....:</span><span class="sd">     Extended summary which can contain multiple paragraphs.</span>
<div class="newline"></div><span class="gp">   ....:</span><span class="sd">     &quot;&quot;&quot;</span>
<div class="newline"></div><span class="gp">   ....:</span>     <span class="c1"># function body</span>
<div class="newline"></div><span class="gp">   ....:</span>     <span class="k">pass</span>
<div class="newline"></div><span class="gp">   ....:</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [68]: </span><span class="n">funcname</span><span class="err">?</span>
<div class="newline"></div><span class="go">Type:           function</span>
<div class="newline"></div><span class="go">Base Class:     type &#39;function&#39;&gt;</span>
<div class="newline"></div><span class="go">String Form:    &lt;function funcname at 0xeaa0f0&gt;</span>
<div class="newline"></div><span class="go">Namespace:      Interactive</span>
<div class="newline"></div><span class="go">File:           &lt;ipython console&gt;</span>
<div class="newline"></div><span class="go">Definition:     funcname(params)</span>
<div class="newline"></div><span class="go">Docstring:</span>
<div class="newline"></div><span class="go">    Concise one-line sentence describing the function.</span>
<div class="newline"></div>
<div class="newline"></div><span class="go">    Extended summary which can contain multiple paragraphs.</span>
<div class="newline"></div></pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Docstring guidelines</strong></p>
<p>For the sake of standardization, the <a class="reference external" href="https://www.python.org/dev/peps/pep-0257">Docstring
Conventions</a> webpage
documents the semantics and conventions associated with Python
docstrings.</p>
<p class="last">Also, the Numpy and Scipy modules have defined a precise standard
for documenting scientific functions, that you may want to follow for
your own functions, with a <code class="docutils literal notranslate"><span class="pre">Parameters</span></code> section, an <code class="docutils literal notranslate"><span class="pre">Examples</span></code>
section, etc. See
<a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard">https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard</a></p>
</div>
</div>
<div class="section" id="functions-are-objects">
<h2>1.2.4.8. Functions are objects<a class="headerlink" href="#functions-are-objects" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Functions are first-class objects, which means they can be:</dt>
<dd><ul class="first last simple">
<li>assigned to a variable</li>
<li>an item in a list (or any collection)</li>
<li>passed as an argument to another function.</li>
</ul>
</dd>
</dl>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [38]: </span><span class="n">va</span> <span class="o">=</span> <span class="n">variable_args</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">In [39]: </span><span class="n">va</span><span class="p">(</span><span class="s1">&#39;three&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<div class="newline"></div><span class="go">args is (&#39;three&#39;,)</span>
<div class="newline"></div><span class="go">kwargs is {&#39;x&#39;: 1, &#39;y&#39;: 2}</span>
<div class="newline"></div></pre></div>
</div>
</div>
<div class="section" id="methods">
<h2>1.2.4.9. Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<p>Methods are functions attached to objects.  You’ve seen these in our
examples on <em>lists</em>, <em>dictionaries</em>, <em>strings</em>, etc…</p>
</div>
<div class="section" id="exercises">
<h2>1.2.4.10. Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<div class="green topic">
<p class="topic-title">Exercise: Fibonacci sequence</p>
<p>Write a function that displays the <code class="docutils literal notranslate"><span class="pre">n</span></code> first terms of the Fibonacci
sequence, defined by:</p>
<div class="math">
<p><img src="../../_images/math/41e48d12c6856cb5c2a432ce4662171ffc1069c9.png" alt="\left\{
    \begin{array}{ll}
        U_{0} = 0 \\
        U_{1} = 1 \\
        U_{n+2} = U_{n+1} + U_{n}
    \end{array}
\right."/></p>
</div></div>
<div class="green topic">
<p class="topic-title">Exercise: Quicksort</p>
<p>Implement the quicksort algorithm, as defined by wikipedia</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="n">quicksort</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
<div class="newline"></div>    <span class="n">var</span> <span class="nb">list</span> <span class="n">less</span><span class="p">,</span> <span class="n">greater</span>
<div class="newline"></div>    <span class="k">if</span> <span class="n">length</span><span class="p">(</span><span class="n">array</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span>
<div class="newline"></div>        <span class="k">return</span> <span class="n">array</span>
<div class="newline"></div>    <span class="n">select</span> <span class="ow">and</span> <span class="n">remove</span> <span class="n">a</span> <span class="n">pivot</span> <span class="n">value</span> <span class="n">pivot</span> <span class="kn">from</span> <span class="nn">array</span>
<div class="newline"></div>    <span class="k">for</span> <span class="n">each</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">array</span>
<div class="newline"></div>        <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">pivot</span> <span class="o">+</span> <span class="mi">1</span> <span class="n">then</span> <span class="n">append</span> <span class="n">x</span> <span class="n">to</span> <span class="n">less</span>
<div class="newline"></div>        <span class="k">else</span> <span class="n">append</span> <span class="n">x</span> <span class="n">to</span> <span class="n">greater</span>
<div class="newline"></div>    <span class="k">return</span> <span class="n">concatenate</span><span class="p">(</span><span class="n">quicksort</span><span class="p">(</span><span class="n">less</span><span class="p">),</span> <span class="n">pivot</span><span class="p">,</span> <span class="n">quicksort</span><span class="p">(</span><span class="n">greater</span><span class="p">))</span>
<div class="newline"></div></pre></div>
</div>
<p><div style="clear: both"></div></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1.2.4. Defining functions</a><ul>
<li><a class="reference internal" href="#function-definition">1.2.4.1. Function definition</a></li>
<li><a class="reference internal" href="#return-statement">1.2.4.2. Return statement</a></li>
<li><a class="reference internal" href="#parameters">1.2.4.3. Parameters</a></li>
<li><a class="reference internal" href="#passing-by-value">1.2.4.4. Passing by value</a></li>
<li><a class="reference internal" href="#global-variables">1.2.4.5. Global variables</a></li>
<li><a class="reference internal" href="#variable-number-of-parameters">1.2.4.6. Variable number of parameters</a></li>
<li><a class="reference internal" href="#docstrings">1.2.4.7. Docstrings</a></li>
<li><a class="reference internal" href="#functions-are-objects">1.2.4.8. Functions are objects</a></li>
<li><a class="reference internal" href="#methods">1.2.4.9. Methods</a></li>
<li><a class="reference internal" href="#exercises">1.2.4.10. Exercises</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="control_flow.html"
                        title="previous chapter">1.2.3. Control Flow</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="reusing_code.html"
                        title="next chapter">1.2.5. Reusing code: scripts and modules</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/intro/language/functions.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="reusing_code.html" title="1.2.5. Reusing code: scripts and modules"
             >next</a></li>
        <li class="right" >
          <a href="control_flow.html" title="1.2.3. Control Flow"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Scipy lecture notes</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >1. Getting started with Python for science</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="python_language.html" >1.2. The Python language</a> &#187;</li>
     
    <!-- Insert a menu in the navigation bar -->
    <li class="left">
	<!-- On click toggle the 'tip' on or off-->
	<a onclick="$('.tip').each(function (index, obj) {
			    collapse_tip_div(obj);
		    });
		    $('.tip').addClass('collapsed');
		    $('.left').addClass('transparent');">
	<img src="../../_static/minus.png"
         alt="Collapse to compact view" style="padding: 1ex;"/>
	<span class="hiddenlink">Collapse document to compact view</span>
    </a></li>
    <li class="right edit_on_github"><a href="https://github.com/scipy-lectures/scipy-lecture-notes/edit/master/intro/language/functions.rst">Edit
    <span class="tooltip">
	Improve this page:<br/>Edit it on Github.
    </span>
    </a>
    </li>

      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2012,2013,2015,2016,2017,2018,2019,2020,2021,2022.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.9.
    </div>
  </body>
</html>